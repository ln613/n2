!function(t){var n={};function r(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return t[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)r.d(e,u,function(n){return t[n]}.bind(null,u));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=13)}([function(t,n,r){var e=r(7),u=r(8),o=r(9);t.exports=function(t){return e(t)||u(t)||o()}},function(t,n){t.exports=function(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},function(t,n,r){var e=r(10),u=r(11),o=r(12);t.exports=function(t,n){return e(t)||u(t,n)||o()}},,function(t,n,r){t.exports=r(6)},function(t,n){function r(t,n,r,e,u,o,i){try{var c=t[o](i),a=c.value}catch(t){return void r(t)}c.done?n(a):Promise.resolve(a).then(e,u)}t.exports=function(t){return function(){var n=this,e=arguments;return new Promise((function(u,o){var i=t.apply(n,e);function c(t){r(i,u,o,c,a,"next",t)}function a(t){r(i,u,o,c,a,"throw",t)}c(void 0)}))}}},function(t,n,r){var e=function(t){"use strict";var n,r=Object.prototype,e=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",i=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function a(t,n,r,e){var u=n&&n.prototype instanceof d?n:d,o=Object.create(u.prototype),i=new S(e||[]);return o._invoke=function(t,n,r){var e=l;return function(u,o){if(e===p)throw new Error("Generator is already running");if(e===y){if("throw"===u)throw o;return k()}for(r.method=u,r.arg=o;;){var i=r.delegate;if(i){var c=P(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var a=f(t,n,r);if("normal"===a.type){if(e=r.done?y:s,a.arg===h)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=y,r.method="throw",r.arg=a.arg)}}}(t,r,i),o}function f(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",h={};function d(){}function v(){}function g(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,O=b&&b(b(_([])));O&&O!==r&&e.call(O,o)&&(m=O);var w=g.prototype=d.prototype=Object.create(m);function j(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function x(t){var n;this._invoke=function(r,u){function o(){return new Promise((function(n,o){!function n(r,u,o,i){var c=f(t[r],t,u);if("throw"!==c.type){var a=c.arg,l=a.value;return l&&"object"==typeof l&&e.call(l,"__await")?Promise.resolve(l.__await).then((function(t){n("next",t,o,i)}),(function(t){n("throw",t,o,i)})):Promise.resolve(l).then((function(t){a.value=t,o(a)}),(function(t){return n("throw",t,o,i)}))}i(c.arg)}(r,u,n,o)}))}return n=n?n.then(o,o):o()}}function P(t,r){var e=t.iterator[r.method];if(e===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,P(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var u=f(e,t.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,h;var o=u.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function E(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function A(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function _(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,i=function r(){for(;++u<t.length;)if(e.call(t,u))return r.value=t[u],r.done=!1,r;return r.value=n,r.done=!0,r};return i.next=i}}return{next:k}}function k(){return{value:n,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[c]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},j(x.prototype),x.prototype[i]=function(){return this},t.AsyncIterator=x,t.async=function(n,r,e,u){var o=new x(a(n,r,e,u));return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(w),w[c]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},t.values=_,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function u(e,u){return c.type="throw",c.arg=t,r.next=e,u&&(r.method="next",r.arg=n),!!u}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return u("end");if(i.tryLoc<=this.prev){var a=e.call(i,"catchLoc"),f=e.call(i,"finallyLoc");if(a&&f){if(this.prev<i.catchLoc)return u(i.catchLoc,!0);if(this.prev<i.finallyLoc)return u(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return u(i.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return u(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&e.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var o=u;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var u=e.arg;A(r)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:_(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=n),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,n){t.exports=function(t){if(Array.isArray(t))return t}},function(t,n){t.exports=function(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],e=!0,u=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(e=(i=c.next()).done)&&(r.push(i.value),!n||r.length!==n);e=!0);}catch(t){u=!0,o=t}finally{try{e||null==c.return||c.return()}finally{if(u)throw o}}return r}}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,n,r){"use strict";r.r(n);var e=r(4),u=r.n(e),o=r(5),i=r.n(o),c=r(1),a=r.n(c),f=r(0),l=r.n(f);function s(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function p(t){return function n(r){return 0===arguments.length||s(r)?n:t.apply(this,arguments)}}function y(t){return function n(r,e){switch(arguments.length){case 0:return n;case 1:return s(r)?n:p((function(n){return t(r,n)}));default:return s(r)&&s(e)?n:s(r)?p((function(n){return t(n,e)})):s(e)?p((function(n){return t(r,n)})):t(r,e)}}}var h,d,v,g=y((function(t,n){return null!=n&&n.constructor===t||n instanceof t}));!function(t){t[t["+"]=0]="+",t[t["-"]=1]="-",t[t["*"]=2]="*",t[t["/"]=3]="/"}(h||(h={})),function(t){t[t.add=1]="add",t[t.delete=2]="delete",t[t.clear=3]="clear",t[t.sort=4]="sort",t[t.filter=5]="filter"}(d||(d={})),function(t){t[t.data_ui=1]="data_ui",t[t.data=2]="data",t[t.ui=3]="ui",t[t.rule=4]="rule",t[t.effect=5]="effect"}(v||(v={}));var m=r(2),b=r.n(m),O=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function w(t,n){return function(){var r=arguments.length;if(0===r)return n();var e=arguments[r-1];return O(e)||"function"!=typeof e[t]?n.apply(this,arguments):e[t].apply(e,Array.prototype.slice.call(arguments,0,r-1))}}function j(t){return function n(r,e,u){switch(arguments.length){case 0:return n;case 1:return s(r)?n:y((function(n,e){return t(r,n,e)}));case 2:return s(r)&&s(e)?n:s(r)?y((function(n,r){return t(n,e,r)})):s(e)?y((function(n,e){return t(r,n,e)})):p((function(n){return t(r,e,n)}));default:return s(r)&&s(e)&&s(u)?n:s(r)&&s(e)?y((function(n,r){return t(n,r,u)})):s(r)&&s(u)?y((function(n,r){return t(n,e,r)})):s(e)&&s(u)?y((function(n,e){return t(r,n,e)})):s(r)?p((function(n){return t(n,e,u)})):s(e)?p((function(n){return t(r,n,u)})):s(u)?p((function(n){return t(r,e,n)})):t(r,e,u)}}}var x=j(w("slice",(function(t,n,r){return Array.prototype.slice.call(r,t,n)}))),P=x(0,-1);function E(t){return"[object String]"===Object.prototype.toString.call(t)}var A=y((function(t,n){var r=t<0?n.length+t:t;return E(n)?n.charAt(r):n[r]}))(-1),S=p((function(t){return null==t})),_=p((function(t){return!!O(t)||!!t&&("object"==typeof t&&(!E(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),k=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function L(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,u){return n.apply(this,arguments)};case 5:return function(t,r,e,u,o){return n.apply(this,arguments)};case 6:return function(t,r,e,u,o,i){return n.apply(this,arguments)};case 7:return function(t,r,e,u,o,i,c){return n.apply(this,arguments)};case 8:return function(t,r,e,u,o,i,c,a){return n.apply(this,arguments)};case 9:return function(t,r,e,u,o,i,c,a,f){return n.apply(this,arguments)};case 10:return function(t,r,e,u,o,i,c,a,f,l){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var D=y((function(t,n){return L(t.length,(function(){return t.apply(n,arguments)}))}));function T(t,n,r){for(var e=r.next();!e.done;){if((n=t["@@transducer/step"](n,e.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e=r.next()}return t["@@transducer/result"](n)}function N(t,n,r,e){return t["@@transducer/result"](r[e](D(t["@@transducer/step"],t),n))}var I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function q(t,n,r){if("function"==typeof t&&(t=function(t){return new k(t)}(t)),_(r))return function(t,n,r){for(var e=0,u=r.length;e<u;){if((n=t["@@transducer/step"](n,r[e]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e+=1}return t["@@transducer/result"](n)}(t,n,r);if("function"==typeof r["fantasy-land/reduce"])return N(t,n,r,"fantasy-land/reduce");if(null!=r[I])return T(t,n,r[I]());if("function"==typeof r.next)return T(t,n,r);if("function"==typeof r.reduce)return N(t,n,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var F=j(q);function M(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function G(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?M(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}console.log(Object({NODE_ENV:"production",host:"https://memo-fiona.netlify.com"}));var V=-1===window.location.href.indexOf("localhost")?"https://memo-fiona.netlify.com/.netlify/functions/":"http://localhost:9000/",U=V+"api",B=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(ut(e)?e(t):e)&&console.log(n?"".concat(n," - "):"",r(t)),t},C=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return n.reduce((function(t,n){return Object.entries(n(t)||{}).forEach((function(n){var r=b()(n,2),e=r[0],u=r[1];return t[e]=u})),t}),t)}},R=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return function(n){return z(P(r),A(r))((function(r,e){return e?e([t].concat(r).reduce((function(t,n){return G({},t,{},n(t)||{})}),n)):t(n)}))}},z=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return t.apply(void 0,n)}},H=function(t,n,r){return z(r.find(t))((function(t){return S(t)?void 0:n(t)}))},Y=F((function(t,n){return t>=n?t:n}),Number.NEGATIVE_INFINITY),J=(F((function(t,n){return t<=n?t:n}),Number.POSITIVE_INFINITY),function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return n.some((function(n){return n===t}))}}),W=function(t){return function(n){return X(n.lastIndexOf(t),n)}},X=function(t,n){return-1===t?[n,""]:[n.slice(0,t),n.slice(t+1)]},K=function t(n){return n.reduce((function(n,r){return ot(r)?[].concat(l()(n),l()(t(r))):[].concat(l()(n),[r])}),[])},Q=function(t,n){for(var r=arguments.length,e=new Array(r>2?r-2:0),u=2;u<r;u++)e[u-2]=arguments[u];return function(r){return z(ut(t)?t(r):r[t],(function(){return ut(n)?n(r):n}))((function(t,n){return ct(e)?H((function(n){return t==n[0]}),(function(t){return t[1](r)||n()}),e)||n():e[0][t]&&e[0][t](r)||n()}))}},Z=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return function(n){return z((function(){return ut(t)?t(n):t}))((function(t){return H((function(t){return t[0](n)}),(function(r){return r[1](n)||t()}),r)||t()}))}},$=function(t,n,r){return r.filter(t).map(n)},tt=function(t,n,r){return r.filter(t).forEach(n)},nt=function(t){return void 0===t},rt=function(t){return void 0!==t},et=function(t){return"string"==typeof t},ut=function(t){return"function"==typeof t},ot=Array.isArray,it=function(t){return g(Object,t)},ct=function(t){return t.length>0&&ot(t[0])},at=function(t){return"object"===t.type},ft=function(t){return"list"===t.type},lt=function(t,n){return"options"===H((function(n){return n.name===t.type}),(function(t){return t.type}),n)},st=function(t){return J(v.data_ui,v.data)(t.type)},pt=function(t){return J(v.data_ui,v.ui)(t.type)},yt=function(t){return t.type===v.rule},ht=function(t){return t.type===v.effect};function dt(t,n){return function(){return n.call(this,t.apply(this,arguments))}}var vt=p(w("tail",x(1,1/0)));function gt(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var mt=Number.isInteger||function(t){return t<<0===t},bt=j((function(t,n,r){var e={};for(var u in r)e[u]=r[u];return e[t]=n,e})),Ot=j((function t(n,r,e){if(0===n.length)return r;var u=n[0];if(n.length>1){var o=!S(e)&&gt(u,e)?e[u]:mt(n[1])?[]:{};r=t(Array.prototype.slice.call(n,1),r,o)}if(mt(u)&&O(e)){var i=[].concat(e);return i[u]=r,i}return bt(u,r,e)}));function wt(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function jt(t,n,r){return function(){if(0===arguments.length)return r();var e=Array.prototype.slice.call(arguments,0),u=e.pop();if(!O(u)){for(var o=0;o<t.length;){if("function"==typeof u[t[o]])return u[t[o]].apply(u,e);o+=1}if(wt(u)){var i=n.apply(null,e);return i(u)}}return r.apply(this,arguments)}}var xt=function(){return this.xf["@@transducer/init"]()},Pt=function(t){return this.xf["@@transducer/result"](t)},Et=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=xt,t.prototype["@@transducer/result"]=Pt,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}(),At=y((function(t,n){return new Et(t,n)}));var St=y((function(t,n){return 1===t?p(n):L(t,function t(n,r,e){return function(){for(var u=[],o=0,i=n,c=0;c<r.length||o<arguments.length;){var a;c<r.length&&(!s(r[c])||o>=arguments.length)?a=r[c]:(a=arguments[o],o+=1),u[c]=a,s(a)||(i-=1),c+=1}return i<=0?e.apply(this,u):L(i,t(n,u,e))}}(t,[],n))})),_t=Object.prototype.toString,kt=function(){return"[object Arguments]"===_t.call(arguments)?function(t){return"[object Arguments]"===_t.call(t)}:function(t){return gt("callee",t)}}(),Lt=!{toString:null}.propertyIsEnumerable("toString"),Dt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tt=function(){return arguments.propertyIsEnumerable("length")}(),Nt=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},It="function"!=typeof Object.keys||Tt?p((function(t){if(Object(t)!==t)return[];var n,r,e=[],u=Tt&&kt(t);for(n in t)!gt(n,t)||u&&"length"===n||(e[e.length]=n);if(Lt)for(r=Dt.length-1;r>=0;)gt(n=Dt[r],t)&&!Nt(e,n)&&(e[e.length]=n),r-=1;return e})):p((function(t){return Object(t)!==t?[]:Object.keys(t)})),qt=y(jt(["fantasy-land/map","map"],At,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return St(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return q((function(r,e){return r[e]=t(n[e]),r}),{},It(n));default:return function(t,n){for(var r=0,e=n.length,u=Array(e);r<e;)u[r]=t(n[r]),r+=1;return u}(t,n)}}))),Ft=y((function(t,n){return function(r){return function(e){return qt((function(t){return n(t,e)}),r(t(e)))}}})),Mt=y((function(t,n){for(var r=n,e=0;e<t.length;){if(null==r)return;r=r[t[e]],e+=1}return r})),Gt=p((function(t){return Ft(Mt(t),Ot(t))})),Vt=p((function(t){return St(t.length,t)})),Ut=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Bt=y((function(t,n){return t(Ut)(n).value})),Ct=p((function(t){return function(){return t}})),Rt=function(t){return{value:t,map:function(n){return Rt(n(t))}}},zt=j((function(t,n,r){return t((function(t){return Rt(n(t))}))(r).value})),Ht=j((function(t,n,r){return zt(t,Ct(n),r)})),Yt=j((function(t,n,r){var e=Array.prototype.slice.call(r,0);return e.splice(t,n),e})),Jt=y((function(t,n){return Array.prototype.slice.call(n,0).sort((function(n,r){for(var e=0,u=0;0===e&&u<t.length;)e=t[u](n,r),u+=1;return e}))})),Wt=j((function(t,n,r){var e=t(n),u=t(r);return e>u?-1:e<u?1:0})),Xt=j((function(t,n,r){var e=t(n),u=t(r);return e<u?-1:e>u?1:0})),Kt=y((function(t,n){return Mt([t],n)}));function Qt(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function Zt(t,n,r){for(var e=0,u=r.length;e<u;){if(t(n,r[e]))return!0;e+=1}return!1}var $t="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n},tn=p((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function nn(t,n,r,e){var u=Qt(t);function o(t,n){return rn(t,n,r.slice(),e.slice())}return!Zt((function(t,n){return!Zt(o,n,t)}),Qt(n),u)}function rn(t,n,r,e){if($t(t,n))return!0;var u,o,i=tn(t);if(i!==tn(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(u=t.constructor,null==(o=String(u).match(/^function (\w*)/))?"":o[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!$t(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!$t(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var c=r.length-1;c>=0;){if(r[c]===t)return e[c]===n;c-=1}switch(i){case"Map":return t.size===n.size&&nn(t.entries(),n.entries(),r.concat([t]),e.concat([n]));case"Set":return t.size===n.size&&nn(t.values(),n.values(),r.concat([t]),e.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=It(t);if(a.length!==It(n).length)return!1;var f=r.concat([t]),l=e.concat([n]);for(c=a.length-1;c>=0;){var s=a[c];if(!gt(s,n)||!rn(n[s],t[s],f,l))return!1;c-=1}return!0}var en=y((function(t,n){return rn(t,n,[],[])}));function un(t,n){return function(t,n,r){var e,u;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(e=1/n;r<t.length;){if(0===(u=t[r])&&1/u===e)return r;r+=1}return-1}if(n!=n){for(;r<t.length;){if("number"==typeof(u=t[r])&&u!=u)return r;r+=1}return-1}return t.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,r);case"object":if(null===n)return t.indexOf(n,r)}for(;r<t.length;){if(en(t[r],n))return r;r+=1}return-1}(n,t,0)>=0}var on=y(un),cn=function(t){return function(n,r,e){var u,o=nt(r)?t.op1?Gn(t.op1)(n):"":r,i=nt(e)?t.op2?Gn(t.op2)(n):"":e,c=t.operator,a=!1;if("!"===c.slice(0,1)&&(a=!0,c=c.slice(1)),"~"===c)u=on(i,o);else if("="===c)u=o==i;else{var f=+o,l=+i;"+"===c?u=f+l:"-"===c?u=f-l:"*"===c?u=f*l:"/"===c?u=f/l:">"===c?u=f>l:"<"===c?u=f<l:">="===c?u=f>=l:"<="===c&&(u=f<=l)}return a&&(u=!u),u.toString()}},an=function(t,n,r){return H((function(t){return t.name===n}),(function(t){return t[r]}),t)},fn=function(t,n){return!t&&n?[n]:l()((n||document).querySelectorAll(":scope "+sn(t)))},ln=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(et(t)?"".concat(n>0?" ":"",'[name="').concat(t,'"]'):"> :nth-child(".concat(t+1,")"))},sn=function(t){return Fn(t).map(ln).join("")},pn=function(t){return t.innerHTML=""},yn=function t(n,r){return r.getAttribute(n)||(r.parentElement?t(n,r.parentElement):"")};function hn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}var dn=function(t){return"window"===t},vn=function(t){return dn(t.input.target)},gn={input:{event:"load",target:"window"},output:{action:"initData",target:""}},mn={input:{event:"click",target:"__sync"},output:{action:"sync",target:""}},bn=function(t){return{input:{event:"change",target:t},output:{action:"input",target:t}}},On=function(t,n){return nr(n.input.target,n.parent).forEach((r=n.input.event,e=function(r){return pr(t,An(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?hn(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}({context:t},n.output,{eventData:r})))},function(t){return t.addEventListener(r,e)}));var r,e};function wn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function jn(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?wn(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var xn=Z((function(t){return t.value||t.calcValue(t.data)}),[function(t){return t.listOp==d.clear},function(t){return[]}]),Pn=Q("listOp",(function(t){return t.path}),[d.add,function(t){return t.path+"."+(Gn(t.path,t.data)||[]).length}]),En=function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e){return z(qn(r,e.name))(Z((function(t){return[_n(t,{value:""},v.ui),kn(bn(t))]}),[function(){return ft(e)},function(t){return[_n(t,{listOp:d.clear})]}],[function(){return lt(e,n)},function(t){return[_n(t,{listOp:d.clear}),_n(t,{value:an(n,e.type,"options"),listOp:d.add},v.ui),kn(bn(t))]}],[function(){return at(e)},function(r){return K(e.fields.map(t(n,r)))}]))}},An=Q((function(t){return t.action}),[],{message:function(t){return[Ln((function(){return alert(t.target)}))]},sync:function(t){return[Ln((function(){return Tn(t.context)}))]},initData:function(t){return[].concat(l()((n=t.context.schema,K(n.map(En(n,""))))),l()(In(t.context.data)),[Ln((function(){return Nn(t.context)}),!0)],l()(Sn(t.context.rules)));var n},input:function(t){return[_n(t.target,{value:t.eventData.target.value},v.data)]},assign:function(t){var n;return[_n(t.target,{calcValue:(null===(n=t.params)||void 0===n?void 0:n.exp)&&cn(t.params.exp)})]},add:function(t){return[_n(t.target,{listOp:d.add,calcValue:function(n){var r,e;return(null===(r=t.params)||void 0===r?void 0:r.item)?[jn({},Gn(t.params.item,n),{_uid:(e=Gn(t.target,n),Y(e.map((function(t){return rt(t._uid)?t._uid:-1})))+1)})]:[]}})]},remove:function(t){return[_n(t.target,{listOp:d.delete,value:yn("_uid",t.eventData.srcElement)})]},sort:function(t){return[_n(t.target,{listOp:d.sort,calcValue:function(n){var r,e;return Rn(t.target,null===(r=t.params)||void 0===r?void 0:r.field,null===(e=t.params)||void 0===e?void 0:e.order,n)}})]},filter:function(t){var n;return(null===(n=t.params)||void 0===n?void 0:n.predicate)&&[_n(t.target,{listOp:d.filter,calcValue:function(n){var r;return Cn(t.target,null===(r=t.params)||void 0===r?void 0:r.predicate,n)}})]}}),Sn=function(t,n,r){return $((function(t){return!(vn(t)||r&&t.output.target!=r)}),(function(t){return kn(t,void 0,n)}),t)},_n=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.data_ui;return jn({type:r,path:t,value:"",listOp:0,calcValue:function(){return""}},n)},kn=function(t,n,r){return jn({type:v.rule,value:n},t,{parent:r})},Ln=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:v.effect,value:"",effect:t,wait:n}},Dn=function(t,n,r,e){return jn({},_n(t,{value:n,listOp:r}),{data:e})},Tn=function(t){var n=t.data;return Promise.all(Object.entries(n).map((function(t){var n=b()(t,2),r=n[0],e=n[1];return ot(e)&&function(t){var n=t.doc,r=t.body;return fetch("".concat(U,"?doc=").concat(n),{method:"post",body:JSON.stringify(r)}).then((function(t){return t.json()}))}({doc:r,body:a()({},r,e)})}))).then((function(t){return alert("saved")}))},Nn=function(t){return z($((function(t){return"list"===t.type}),(function(t){return t.name}),t.schema))((function(n){return Promise.all(n.map((function(t){return function(t){var n=t.doc;return fetch("".concat(U,"?doc=").concat(n)).then((function(t){return t.json()}))}({doc:t})}))).then((function(r){return pr(t,r.map((function(t,r){return _n(n[r],{value:t,listOp:d.add})})))}))}))},In=function(t){return Object.entries(t).map((function(t){var n=b()(t,2),r=n[0],e=n[1];return _n(r,{value:e},v.ui)}))},qn=function(t,n){return(t?t+".":"")+n},Fn=function(t){return t.replace(/\[/g,".").replace(/\]/g,"").split(".").map((function(t){return isNaN(+t)?t:+t}))},Mn=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return L(arguments[0].length,F(dt,arguments[0],vt(arguments)))}(Fn,Gt),Gn=Vt((function(t,n){return Bt(Mn(t))(n)})),Vn=function(t){return Ht(Mn(t.path))(t.value,t.data)},Un=Q((function(t){return t.listOp}),Vn,[d.filter,function(t){return t.data}],[d.add,function(t){return ot(t.value)?Bn.apply(void 0,l()(t.value.map((function(n,r){return z(W(".")(t.path))((function(t){var e=b()(t,2);return[e[0]+"."+(+e[1]+r),n,d.add]}))}))))(t.data):Vn(t)}],[d.delete,function(t){return t.value?zt(Mn(t.path),Yt(+t.value,1),t.data):t.data}]),Bn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return n.reduce((function(t,n){var r=b()(n,3),e=r[0],u=r[1],o=r[2];return Un(Dn(e,u,o,t))}),t)}},Cn=function(t,n,r){var e,u;return n&&z(Gn(t,r),null!==(e=function(t){return t&&t.length>1&&'"'===t[0]&&'"'===t[t.length-1]}(u=n.op2)?u.slice(1,u.length-1):"")&&void 0!==e?e:Gn(n.op2,r))((function(t,e){return t.filter((function(t){return"true"===cn(n)(r,t[n.op1],e)}))}))},Rn=function(t,n,r,e){return z(Gn(t,e))((function(t){return Jt([("descending"===r?Wt:Xt)(Kt(n))],t)}))};function zn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}var Hn,Yn,Jn=function(t,n){return K(t.map((function(t,r){return tr(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?zn(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}({},n,{path:"",listOp:0,value:t,parent:n.clone[r]}))})))},Wn=function(t,n,r){return fn(t).forEach((function(t){return n&&(e=n,u=t,o=+r,z(document.createDocumentFragment())((function(t){e.forEach((function(n){return t.appendChild(n)})),u.insertBefore(t,u.children[o])})));var e,u,o}))},Xn=R((function(t){var n,r=(n=t.path,z(W(".")(n))((function(t){return isNaN(+t[1])?[n,0]:t})));return{listPath:r[0],idx:r[1]}}),(function(t){var n,r;return{template:(n=t.listPath,r=t.templates,H((function(t){return t.listPath===n}),(function(t){return t.element}),r))}}),(Hn="template",Yn=[],function(t){return nt(t[Hn])?{_return:Yn}:{}}),(function(t){var n;return{clone:(n=t.template,t.value.map((function(t){return n.cloneNode(!0)})))}}),(function(t){return{cloneUpdates:Jn(t.value,t)}}),(function(t){Wn(t.listPath,t.clone,t.idx)}),(function(t){var n,r,e;return n=t.rules,r=t.clone,e=t.listPath,t.cloneUpdates.concat(K(r.map((function(t){return Sn(n,t,e)}))))})),Kn=function(t){var n=t.path;return fn(n).forEach(pn)},Qn=R(Kn,(function(t){return{path:t.path+".0"}}),Xn),Zn=Q((function(t){return t.listOp}),[],[d.add,Xn],[d.clear,Kn],[d.delete,function(t){var n=t.path,r=t.value;return fn(n).forEach((function(t){return e=r,z((n=t).querySelector('[_uid="'.concat(e,'"]')))((function(t){return t&&n.removeChild(t)}));var n,e}))}],[d.filter,Qn],[d.sort,Qn]);function $n(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}var tr=Z([],[function(t){return!rt(t.value)},function(){return[]}],[function(t){return t.listOp>0},Zn],[function(t){return et(t.value)||"number"==typeof t.value},function(t){var n,r=t.path,e=t.value,u=t.parent;return fn(r,u).forEach((n=e,Z((function(t){return t.innerText=n}),[function(t){return t instanceof HTMLInputElement},function(t){return t.value=n}],[function(t){return t instanceof HTMLOptionElement},function(t){return t.value=t.innerText=n}],[function(t){return t instanceof HTMLSelectElement},function(t){return t.value=n}]))),[]}],[function(t){return it(t.value)},function(t){return Object.entries(t.value).reduce((function(n,r){var e,u,o=b()(r,2),i=o[0],c=o[1];return[].concat(l()(n),l()("_uid"===i&&t.parent?(e=i,u=c,t.parent.setAttribute(e,u),[]):tr(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?$n(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}({},t,{path:qn(t.path,i),value:c}))))}),[])}]),nr=function(t,n){return dn(t)?[window]:fn(t,n)},rr=function t(n,r){return Z([],[function(t){return function(t,n){return ft(t)||lt(t,n)}(t,n)},er(r)],[at,function(e){return e.fields.map(t(n,qn(r,e.name)))}])},er=function(t){return function(n){return z(qn(t,n.name))((function(t){return z(fn(t+".0"))((function(r){return r.length>0?[{listPath:t,type:ft(n)?n.itemType:n.type,element:r[0]}]:[]}))}))}},ur=["input.target","output.target","output.params.item","output.params.field","output.params.exp.op1","output.params.exp.op2","output.params.predicate.op1","output.params.predicate.op2"],or=function(t,n){return K(t.map((function(t){return z((r=t,K(ur.map((function(t){return(Gn(t,r)||"").match(/\[(\w+)\]/g)||[]})).map((function(t){return t.slice(1,t.length-1)})))))((function(r){return 0===B(r).length?[t]:r.map((function(r){return z(function(t,n){return an(n,t,"options")}(r,n))((function(n){return n.map((function(n){return ur.reduce((function(t,r){return Un(r,Gn(r,t).replace(new RegExp("[".concat(n,"]"),"g"),n),t)}),t)}))}))}))}));var r})))};function ir(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function cr(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ir(Object(r),!0).forEach((function(n){a()(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var ar=function(t){return function(t,n){return K(t.map(rr(t,n)))}(t,"")},fr=function(t,n){return r=st,e=function(n){return jn({},r=cr({},n,{data:t}),{path:Pn(r),value:xn(r)});var r},n.map((function(t){return r(t)?e(t):t}));var r,e},lr=C((function(t){var n,r;return{rules:(n=t.rules,r=t.schema,[gn,mn].concat(l()(or(n,r))))}}),B,(function(t){return{templates:ar(t.schema)}}),(function(t){var n,r;n=t.rules,r=t,n.filter(vn).forEach((function(t){return On(r,kn(t))}))})),sr=C(B,(function(t){return{updates:fr(t.data,t.updates)}}),(function(t){var n,r;return{data:(n=t.data,r=t.updates,Bn.apply(void 0,l()($(st,(function(t){return[t.path,t.value,t.listOp]}),r)))(n))}}),(function(t){var n,r;return{updates:(n=t.updates,r=t,n.concat(K($(pt,(function(t){return tr(cr({},r,{},t))}),n))))}}),(function(t){var n,r;n=t.updates,r=t,tt(yt,(function(t){return On(r,t)}),n)}),(function(t){var n;n=t.updates,tt(ht,(function(t){return z(t)(function(){var t=i()(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.wait){t.next=6;break}return t.next=3,n.effect();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=n.effect();case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}),n)})),pr=function(t,n){t.updates=n,sr(t)};lr({data:{},rules:[{input:{event:"click",target:"addMemo"},output:{action:"add",target:"memos",params:{item:"memo"}}},{input:{event:"click",target:"sortByTitle"},output:{action:"sort",target:"memos",params:{field:"title",order:"ascending"}}},{input:{event:"click",target:"search"},output:{action:"filter",target:"memos",params:{predicate:{op1:"title",operator:"~",op2:"keyword"}}}},{input:{event:"click",target:"[memoType]Filter"},output:{action:"filter",target:"memos",params:{predicate:{op1:"type",operator:"=",op2:"[memoType]"}}}}],schema:[{name:"memo",type:"object",fields:[{name:"id",type:"integer"},{name:"title",type:"string"},{name:"type",type:"memoType"},{name:"done",type:"bool"},{name:"priority",type:"integer"},{name:"username",type:"string"},{name:"password",type:"string"},{name:"card",type:"string"},{name:"date",type:"string"}]},{name:"keyword",type:"string"},{name:"memoType",type:"options",options:["login","password","membership","card","appointment","todo"]},{name:"memos",type:"list",itemType:"memo"}]})}]);
//# sourceMappingURL=bundle.js.map